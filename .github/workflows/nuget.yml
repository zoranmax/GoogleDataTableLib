name: 'Deploy on Nuget'

on:
  push: 
    tags:
      -'v*'

env: 
  PROJECT_PATH: 'src/Google.DataTable.Net.Wrapper/Google.DataTable.Net.Wrapper.csproj'
  PACKAGE_OUTPU_DIR: ${{ github.workspace }}\output
  NUGET_SOURCE_URL: 'https://api.nuget.org/v3/index.json'

jobs:
  deploy:
    name: 'Deploy'
    runs-on: 'windows-latest'
    steps:
      - name: 'Checkout'
        uses: actions/checkout@v2

      - name: 'Install .NET'
        uses: actions/setup-dotnet@v1
        with: 
          dotnet-version: '5.0.100'
        
      - name: 'Restore Packages'
        run: dotnet restore ${{ env.PROJECT_PATH}}

      - name: 'Build Project'
        run: dotnet build ${{ env.PROJECT_PATH}} --no-restore --configuration Release

  